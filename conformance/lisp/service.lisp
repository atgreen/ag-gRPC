;;;; Generated from proto/connectrpc/conformance/v1/service.proto

;;;; Generated by ag-proto-cli v1.0.0-g23253a3+dirty

(in-package "CONFORMANCE-PROTO")


(DEFCLASS CONFORMANCE-PROTO::UNARY-RESPONSE-DEFINITION (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-HEADERS :INITARG :RESPONSE-HEADERS :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-HEADERS :INITFORM NIL :TYPE LIST)
           (RESPONSE-DATA :INITARG :RESPONSE-DATA :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8)))
           (PROTO-ERROR :INITARG :ERROR :ACCESSOR
            CONFORMANCE-PROTO::PROTO-ERROR :INITFORM NIL :TYPE T)
           (RESPONSE-TRAILERS :INITARG :RESPONSE-TRAILERS :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-TRAILERS :INITFORM NIL :TYPE LIST)
           (RESPONSE-DELAY-MS :INITARG :RESPONSE-DELAY-MS :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DELAY-MS :INITFORM 0 :TYPE
            (UNSIGNED-BYTE 32))
           (RAW-RESPONSE :INITARG :RAW-RESPONSE :ACCESSOR
            CONFORMANCE-PROTO::RAW-RESPONSE :INITFORM NIL :TYPE T)
           (CONFORMANCE-PROTO::RESPONSE-CASE :INITFORM NIL :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-CASE :DOCUMENTATION
            "Which response variant is set (field name keyword or nil)"))
          (:DOCUMENTATION "Proto message: UnaryResponseDefinition"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::UNARY-RESPONSE-DEFINITION))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS))
      (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-CASE) :RESPONSE-DATA)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA)))
        (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
          (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE
                                            AG-PROTO::BUFFER))))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-CASE) :ERROR)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PROTO-ERROR)))
        (WHEN AG-PROTO::VALUE
          (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS))
      (AG-PROTO::WRITE-FIELD-TAG 4 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DELAY-MS)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 6 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RAW-RESPONSE)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 5 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::UNARY-RESPONSE-DEFINITION))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::UNARY-RESPONSE-DEFINITION))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS)))
                 (2
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-ERROR) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA)
                           (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-CASE)
                           :RESPONSE-DATA)))
                 (3
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA)
                           (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-ERROR)
                           (LET ((AG-PROTO::DATA
                                  (AG-PROTO::READ-LENGTH-DELIMITED
                                   AG-PROTO::BUFFER)))
                             (AG-PROTO:DESERIALIZE-FROM-BYTES 'PROTO-ERROR
                                                              AG-PROTO::DATA)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-CASE) :ERROR)))
                 (4
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS)))
                 (6
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DELAY-MS)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (5
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RAW-RESPONSE)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'RAW-HTTP-RESPONSE
                                                             AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::STREAM-RESPONSE-DEFINITION
          (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-HEADERS :INITARG :RESPONSE-HEADERS :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-HEADERS :INITFORM NIL :TYPE LIST)
           (RESPONSE-DATA :INITARG :RESPONSE-DATA :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DATA :INITFORM NIL :TYPE LIST)
           (RESPONSE-DELAY-MS :INITARG :RESPONSE-DELAY-MS :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DELAY-MS :INITFORM 0 :TYPE
            (UNSIGNED-BYTE 32))
           (PROTO-ERROR :INITARG :ERROR :ACCESSOR
            CONFORMANCE-PROTO::PROTO-ERROR :INITFORM NIL :TYPE T)
           (RESPONSE-TRAILERS :INITARG :RESPONSE-TRAILERS :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-TRAILERS :INITFORM NIL :TYPE LIST)
           (RAW-RESPONSE :INITARG :RAW-RESPONSE :ACCESSOR
            CONFORMANCE-PROTO::RAW-RESPONSE :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: StreamResponseDefinition"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::STREAM-RESPONSE-DEFINITION))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS))
      (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA))
      (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::ELEM AG-PROTO::BUFFER))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DELAY-MS)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 3 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PROTO-ERROR)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 4 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS))
      (AG-PROTO::WRITE-FIELD-TAG 5 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RAW-RESPONSE)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 6 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::STREAM-RESPONSE-DEFINITION))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::STREAM-RESPONSE-DEFINITION))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS)))
                 (2
                  (PUSH (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)
                        (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA)))
                 (3
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DELAY-MS)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (4
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-ERROR)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'PROTO-ERROR
                                                             AG-PROTO::DATA))))
                 (5
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS)))
                 (6
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RAW-RESPONSE)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'RAW-HTTP-RESPONSE
                                                             AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-HEADERS)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DATA)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-TRAILERS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::UNARY-REQUEST (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-DEFINITION :INITARG :RESPONSE-DEFINITION :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DEFINITION :INITFORM NIL :TYPE T)
           (REQUEST-DATA :INITARG :REQUEST-DATA :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8))))
          (:DOCUMENTATION "Proto message: UnaryRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::UNARY-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::UNARY-REQUEST)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::UNARY-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'UNARY-RESPONSE-DEFINITION AG-PROTO::DATA))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::UNARY-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          ((PAYLOAD :INITARG :PAYLOAD :ACCESSOR CONFORMANCE-PROTO::PAYLOAD
            :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: UnaryResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::UNARY-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::UNARY-RESPONSE)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::UNARY-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'CONFORMANCE-PAYLOAD AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::IDEMPOTENT-UNARY-REQUEST (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-DEFINITION :INITARG :RESPONSE-DEFINITION :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DEFINITION :INITFORM NIL :TYPE T)
           (REQUEST-DATA :INITARG :REQUEST-DATA :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8))))
          (:DOCUMENTATION "Proto message: IdempotentUnaryRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::IDEMPOTENT-UNARY-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::IDEMPOTENT-UNARY-REQUEST))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::IDEMPOTENT-UNARY-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'UNARY-RESPONSE-DEFINITION AG-PROTO::DATA))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::IDEMPOTENT-UNARY-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          ((PAYLOAD :INITARG :PAYLOAD :ACCESSOR CONFORMANCE-PROTO::PAYLOAD
            :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: IdempotentUnaryResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::IDEMPOTENT-UNARY-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::IDEMPOTENT-UNARY-RESPONSE))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::IDEMPOTENT-UNARY-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'CONFORMANCE-PAYLOAD AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::SERVER-STREAM-REQUEST (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-DEFINITION :INITARG :RESPONSE-DEFINITION :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DEFINITION :INITFORM NIL :TYPE T)
           (REQUEST-DATA :INITARG :REQUEST-DATA :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8))))
          (:DOCUMENTATION "Proto message: ServerStreamRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::SERVER-STREAM-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::SERVER-STREAM-REQUEST))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::SERVER-STREAM-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'STREAM-RESPONSE-DEFINITION AG-PROTO::DATA))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::SERVER-STREAM-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          ((PAYLOAD :INITARG :PAYLOAD :ACCESSOR CONFORMANCE-PROTO::PAYLOAD
            :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: ServerStreamResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::SERVER-STREAM-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::SERVER-STREAM-RESPONSE))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::SERVER-STREAM-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'CONFORMANCE-PAYLOAD AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::CLIENT-STREAM-REQUEST (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-DEFINITION :INITARG :RESPONSE-DEFINITION :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DEFINITION :INITFORM NIL :TYPE T)
           (REQUEST-DATA :INITARG :REQUEST-DATA :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8))))
          (:DOCUMENTATION "Proto message: ClientStreamRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::CLIENT-STREAM-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::CLIENT-STREAM-REQUEST))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::CLIENT-STREAM-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'UNARY-RESPONSE-DEFINITION AG-PROTO::DATA))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::CLIENT-STREAM-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          ((PAYLOAD :INITARG :PAYLOAD :ACCESSOR CONFORMANCE-PROTO::PAYLOAD
            :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: ClientStreamResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::CLIENT-STREAM-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::CLIENT-STREAM-RESPONSE))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::CLIENT-STREAM-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'CONFORMANCE-PAYLOAD AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::BIDI-STREAM-REQUEST (AG-PROTO:PROTO-MESSAGE)
          ((RESPONSE-DEFINITION :INITARG :RESPONSE-DEFINITION :ACCESSOR
            CONFORMANCE-PROTO::RESPONSE-DEFINITION :INITFORM NIL :TYPE T)
           (FULL-DUPLEX :INITARG :FULL-DUPLEX :ACCESSOR
            CONFORMANCE-PROTO::FULL-DUPLEX :INITFORM NIL :TYPE BOOLEAN)
           (REQUEST-DATA :INITARG :REQUEST-DATA :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8))))
          (:DOCUMENTATION "Proto message: BidiStreamRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::BIDI-STREAM-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'FULL-DUPLEX)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 2 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT
         (IF AG-PROTO::VALUE
             1
             0)
         AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::BIDI-STREAM-REQUEST))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::BIDI-STREAM-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'RESPONSE-DEFINITION)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'STREAM-RESPONSE-DEFINITION AG-PROTO::DATA))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'FULL-DUPLEX)
                          (NOT
                           (ZEROP (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))))
                 (3
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-DATA)
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::BIDI-STREAM-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          ((PAYLOAD :INITARG :PAYLOAD :ACCESSOR CONFORMANCE-PROTO::PAYLOAD
            :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: BidiStreamResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::BIDI-STREAM-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::BIDI-STREAM-RESPONSE))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::BIDI-STREAM-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES
                             'CONFORMANCE-PAYLOAD AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::UNIMPLEMENTED-REQUEST (AG-PROTO:PROTO-MESSAGE) NIL
          (:DOCUMENTATION "Proto message: UnimplementedRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::UNIMPLEMENTED-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::UNIMPLEMENTED-REQUEST))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::UNIMPLEMENTED-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::UNIMPLEMENTED-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          NIL (:DOCUMENTATION "Proto message: UnimplementedResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::UNIMPLEMENTED-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::UNIMPLEMENTED-RESPONSE))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ
         (MAKE-INSTANCE 'CONFORMANCE-PROTO::UNIMPLEMENTED-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::CONFORMANCE-PAYLOAD (AG-PROTO:PROTO-MESSAGE)
          ((DATA :INITARG :DATA :ACCESSOR CONFORMANCE-PROTO::DATA :INITFORM
            (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8)))
           (REQUEST-INFO :INITARG :REQUEST-INFO :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-INFO :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: ConformancePayload"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::CONFORMANCE-PAYLOAD))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'DATA)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-INFO)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::CONFORMANCE-PAYLOAD))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::CONFORMANCE-PAYLOAD))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'DATA)
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-INFO)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'REQUEST-INFO
                                                             AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::REQUEST-INFO (AG-PROTO:PROTO-MESSAGE)
          ((REQUEST-HEADERS :INITARG :REQUEST-HEADERS :ACCESSOR
            CONFORMANCE-PROTO::REQUEST-HEADERS :INITFORM NIL :TYPE LIST)
           (TIMEOUT-MS :INITARG :TIMEOUT-MS :ACCESSOR
            CONFORMANCE-PROTO::TIMEOUT-MS :INITFORM 0 :TYPE (SIGNED-BYTE 64))
           (REQUESTS :INITARG :REQUESTS :ACCESSOR CONFORMANCE-PROTO::REQUESTS
            :INITFORM NIL :TYPE LIST)
           (CONNECT-GET-INFO :INITARG :CONNECT-GET-INFO :ACCESSOR
            CONFORMANCE-PROTO::CONNECT-GET-INFO :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: RequestInfo"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::REQUEST-INFO))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-HEADERS))
      (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'TIMEOUT-MS)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 2 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'REQUESTS))
      (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'CONNECT-GET-INFO)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 4 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::REQUEST-INFO)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::REQUEST-INFO))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-HEADERS)))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'TIMEOUT-MS)
                          (LET ((AG-PROTO::N
                                 (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                            (IF (>= AG-PROTO::N 9223372036854775808)
                                (- AG-PROTO::N 18446744073709551616)
                                AG-PROTO::N))))
                 (3
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'ANY AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'REQUESTS)))
                 (4
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'CONNECT-GET-INFO)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'CONNECT-GET-INFO
                                                             AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-HEADERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'REQUEST-HEADERS)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'REQUESTS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'REQUESTS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::CONNECT-GET-INFO (AG-PROTO:PROTO-MESSAGE)
          ((QUERY-PARAMS :INITARG :QUERY-PARAMS :ACCESSOR
            CONFORMANCE-PROTO::QUERY-PARAMS :INITFORM NIL :TYPE LIST))
          (:DOCUMENTATION "Proto message: ConnectGetInfo"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::CONNECT-GET-INFO))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'QUERY-PARAMS))
      (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::CONNECT-GET-INFO)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::CONNECT-GET-INFO))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'QUERY-PARAMS)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'QUERY-PARAMS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'QUERY-PARAMS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::PROTO-ERROR (AG-PROTO:PROTO-MESSAGE)
          ((CODE :INITARG :CODE :ACCESSOR CONFORMANCE-PROTO::CODE :INITFORM NIL
            :TYPE T)
           (MESSAGE :INITARG :MESSAGE :ACCESSOR CONFORMANCE-PROTO::MESSAGE
            :INITFORM "" :TYPE STRING)
           (DETAILS :INITARG :DETAILS :ACCESSOR CONFORMANCE-PROTO::DETAILS
            :INITFORM NIL :TYPE LIST))
          (:DOCUMENTATION "Proto message: Error"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::PROTO-ERROR))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'CODE)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 1 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'MESSAGE)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO::STRING-TO-UTF8 AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'DETAILS))
      (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::PROTO-ERROR)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::PROTO-ERROR))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'CODE)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'MESSAGE)
                          (AG-PROTO::UTF8-TO-STRING
                           (AG-PROTO::READ-LENGTH-DELIMITED
                            AG-PROTO::BUFFER))))
                 (3
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'ANY AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'DETAILS)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'DETAILS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'DETAILS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::HEADER (AG-PROTO:PROTO-MESSAGE)
          ((NAME :INITARG :NAME :ACCESSOR CONFORMANCE-PROTO::NAME :INITFORM ""
            :TYPE STRING)
           (VALUE :INITARG :VALUE :ACCESSOR CONFORMANCE-PROTO::VALUE :INITFORM
            NIL :TYPE LIST))
          (:DOCUMENTATION "Proto message: Header"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::HEADER))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'NAME)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO::STRING-TO-UTF8 AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'VALUE))
      (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO::STRING-TO-UTF8 AG-PROTO::ELEM) AG-PROTO::BUFFER))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::HEADER)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::HEADER))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'NAME)
                          (AG-PROTO::UTF8-TO-STRING
                           (AG-PROTO::READ-LENGTH-DELIMITED
                            AG-PROTO::BUFFER))))
                 (2
                  (PUSH
                   (AG-PROTO::UTF8-TO-STRING
                    (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER))
                   (SLOT-VALUE AG-PROTO::OBJ 'VALUE)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'VALUE)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'VALUE)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::RAW-HTTP-REQUEST (AG-PROTO:PROTO-MESSAGE)
          ((VERB :INITARG :VERB :ACCESSOR CONFORMANCE-PROTO::VERB :INITFORM ""
            :TYPE STRING)
           (URI :INITARG :URI :ACCESSOR CONFORMANCE-PROTO::URI :INITFORM ""
            :TYPE STRING)
           (HEADERS :INITARG :HEADERS :ACCESSOR CONFORMANCE-PROTO::HEADERS
            :INITFORM NIL :TYPE LIST)
           (RAW-QUERY-PARAMS :INITARG :RAW-QUERY-PARAMS :ACCESSOR
            CONFORMANCE-PROTO::RAW-QUERY-PARAMS :INITFORM NIL :TYPE LIST)
           (ENCODED-QUERY-PARAMS :INITARG :ENCODED-QUERY-PARAMS :ACCESSOR
            CONFORMANCE-PROTO::ENCODED-QUERY-PARAMS :INITFORM NIL :TYPE LIST)
           (UNARY :INITARG :UNARY :ACCESSOR CONFORMANCE-PROTO::UNARY :INITFORM
            NIL :TYPE T)
           (PROTO-STREAM :INITARG :STREAM :ACCESSOR
            CONFORMANCE-PROTO::PROTO-STREAM :INITFORM NIL :TYPE T)
           (CONFORMANCE-PROTO::BODY-CASE :INITFORM NIL :ACCESSOR
            CONFORMANCE-PROTO::BODY-CASE :DOCUMENTATION
            "Which body variant is set (field name keyword or nil)"))
          (:DOCUMENTATION "Proto message: RawHTTPRequest"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::RAW-HTTP-REQUEST))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'VERB)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO::STRING-TO-UTF8 AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'URI)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO::STRING-TO-UTF8 AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'HEADERS))
      (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'RAW-QUERY-PARAMS))
      (AG-PROTO::WRITE-FIELD-TAG 4 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'ENCODED-QUERY-PARAMS))
      (AG-PROTO::WRITE-FIELD-TAG 5 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :UNARY)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'UNARY)))
        (WHEN AG-PROTO::VALUE
          (AG-PROTO::WRITE-FIELD-TAG 6 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :STREAM)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PROTO-STREAM)))
        (WHEN AG-PROTO::VALUE
          (AG-PROTO::WRITE-FIELD-TAG 7 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::RAW-HTTP-REQUEST)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::RAW-HTTP-REQUEST))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'VERB)
                          (AG-PROTO::UTF8-TO-STRING
                           (AG-PROTO::READ-LENGTH-DELIMITED
                            AG-PROTO::BUFFER))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'URI)
                          (AG-PROTO::UTF8-TO-STRING
                           (AG-PROTO::READ-LENGTH-DELIMITED
                            AG-PROTO::BUFFER))))
                 (3
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'HEADERS)))
                 (4
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'RAW-QUERY-PARAMS)))
                 (5
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'ENCODED-QUERY-PARAM
                                                      AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'ENCODED-QUERY-PARAMS)))
                 (6
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-STREAM) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'UNARY)
                           (LET ((AG-PROTO::DATA
                                  (AG-PROTO::READ-LENGTH-DELIMITED
                                   AG-PROTO::BUFFER)))
                             (AG-PROTO:DESERIALIZE-FROM-BYTES 'MESSAGE-CONTENTS
                                                              AG-PROTO::DATA)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :UNARY)))
                 (7
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'UNARY) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-STREAM)
                           (LET ((AG-PROTO::DATA
                                  (AG-PROTO::READ-LENGTH-DELIMITED
                                   AG-PROTO::BUFFER)))
                             (AG-PROTO:DESERIALIZE-FROM-BYTES 'STREAM-CONTENTS
                                                              AG-PROTO::DATA)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :STREAM)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'HEADERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'HEADERS)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'RAW-QUERY-PARAMS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'RAW-QUERY-PARAMS)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'ENCODED-QUERY-PARAMS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'ENCODED-QUERY-PARAMS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::ENCODED-QUERY-PARAM (AG-PROTO:PROTO-MESSAGE)
          ((NAME :INITARG :NAME :ACCESSOR CONFORMANCE-PROTO::NAME :INITFORM ""
            :TYPE STRING)
           (VALUE :INITARG :VALUE :ACCESSOR CONFORMANCE-PROTO::VALUE :INITFORM
            NIL :TYPE T)
           (BASE64-ENCODE :INITARG :BASE64-ENCODE :ACCESSOR
            CONFORMANCE-PROTO::BASE64-ENCODE :INITFORM NIL :TYPE BOOLEAN))
          (:DOCUMENTATION "Proto message: EncodedQueryParam"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::ENCODED-QUERY-PARAM))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'NAME)))
      (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
        (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO::STRING-TO-UTF8 AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'VALUE)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'BASE64-ENCODE)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 3 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT
         (IF AG-PROTO::VALUE
             1
             0)
         AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::ENCODED-QUERY-PARAM))
            AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::ENCODED-QUERY-PARAM))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'NAME)
                          (AG-PROTO::UTF8-TO-STRING
                           (AG-PROTO::READ-LENGTH-DELIMITED
                            AG-PROTO::BUFFER))))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'VALUE)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'MESSAGE-CONTENTS
                                                             AG-PROTO::DATA))))
                 (3
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'BASE64-ENCODE)
                          (NOT
                           (ZEROP (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::MESSAGE-CONTENTS (AG-PROTO:PROTO-MESSAGE)
          ((BINARY :INITARG :BINARY :ACCESSOR CONFORMANCE-PROTO::BINARY
            :INITFORM (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)) :TYPE
            (VECTOR (UNSIGNED-BYTE 8)))
           (TEXT :INITARG :TEXT :ACCESSOR CONFORMANCE-PROTO::TEXT :INITFORM ""
            :TYPE STRING)
           (BINARY-MESSAGE :INITARG :BINARY-MESSAGE :ACCESSOR
            CONFORMANCE-PROTO::BINARY-MESSAGE :INITFORM NIL :TYPE T)
           (COMPRESSION :INITARG :COMPRESSION :ACCESSOR
            CONFORMANCE-PROTO::COMPRESSION :INITFORM NIL :TYPE T)
           (CONFORMANCE-PROTO::DATA-CASE :INITFORM NIL :ACCESSOR
            CONFORMANCE-PROTO::DATA-CASE :DOCUMENTATION
            "Which data variant is set (field name keyword or nil)"))
          (:DOCUMENTATION "Proto message: MessageContents"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::MESSAGE-CONTENTS))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'DATA-CASE) :BINARY)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'BINARY)))
        (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
          (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED AG-PROTO::VALUE
                                            AG-PROTO::BUFFER))))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'DATA-CASE) :TEXT)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'TEXT)))
        (WHEN (AND AG-PROTO::VALUE (PLUSP (LENGTH AG-PROTO::VALUE)))
          (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO::STRING-TO-UTF8 AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'DATA-CASE) :BINARY-MESSAGE)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'BINARY-MESSAGE)))
        (WHEN AG-PROTO::VALUE
          (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'COMPRESSION)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 4 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::MESSAGE-CONTENTS)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::MESSAGE-CONTENTS))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'TEXT) "")
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BINARY-MESSAGE) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BINARY)
                           (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'DATA-CASE) :BINARY)))
                 (2
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BINARY)
                           (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BINARY-MESSAGE) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'TEXT)
                           (AG-PROTO::UTF8-TO-STRING
                            (AG-PROTO::READ-LENGTH-DELIMITED
                             AG-PROTO::BUFFER)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'DATA-CASE) :TEXT)))
                 (3
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BINARY)
                           (MAKE-ARRAY 0 :ELEMENT-TYPE '(UNSIGNED-BYTE 8)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'TEXT) "")
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BINARY-MESSAGE)
                           (LET ((AG-PROTO::DATA
                                  (AG-PROTO::READ-LENGTH-DELIMITED
                                   AG-PROTO::BUFFER)))
                             (AG-PROTO:DESERIALIZE-FROM-BYTES 'ANY
                                                              AG-PROTO::DATA)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'DATA-CASE)
                           :BINARY-MESSAGE)))
                 (4
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'COMPRESSION)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::STREAM-CONTENTS (AG-PROTO:PROTO-MESSAGE)
          ((ITEMS :INITARG :ITEMS :ACCESSOR CONFORMANCE-PROTO::ITEMS :INITFORM
            NIL :TYPE LIST))
          (:DOCUMENTATION "Proto message: StreamContents"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::STREAM-CONTENTS))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'ITEMS))
      (AG-PROTO::WRITE-FIELD-TAG 1 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::STREAM-CONTENTS)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::STREAM-CONTENTS))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'STREAM-ITEM
                                                      AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'ITEMS)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'ITEMS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'ITEMS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::STREAM-ITEM (AG-PROTO:PROTO-MESSAGE)
          ((FLAGS :INITARG :FLAGS :ACCESSOR CONFORMANCE-PROTO::FLAGS :INITFORM
            0 :TYPE (UNSIGNED-BYTE 32))
           (PROTO-LENGTH :INITARG :LENGTH :ACCESSOR
            CONFORMANCE-PROTO::PROTO-LENGTH :INITFORM 0 :TYPE
            (UNSIGNED-BYTE 32))
           (PAYLOAD :INITARG :PAYLOAD :ACCESSOR CONFORMANCE-PROTO::PAYLOAD
            :INITFORM NIL :TYPE T))
          (:DOCUMENTATION "Proto message: StreamItem"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::STREAM-ITEM))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'FLAGS)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 1 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PROTO-LENGTH)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 2 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)))
      (WHEN AG-PROTO::VALUE
        (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-LENGTH-DELIMITED
         (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER)))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::STREAM-ITEM)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::STREAM-ITEM))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'FLAGS)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (2
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-LENGTH)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (3
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'PAYLOAD)
                          (LET ((AG-PROTO::DATA
                                 (AG-PROTO::READ-LENGTH-DELIMITED
                                  AG-PROTO::BUFFER)))
                            (AG-PROTO:DESERIALIZE-FROM-BYTES 'MESSAGE-CONTENTS
                                                             AG-PROTO::DATA))))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::RAW-HTTP-RESPONSE (AG-PROTO:PROTO-MESSAGE)
          ((STATUS-CODE :INITARG :STATUS-CODE :ACCESSOR
            CONFORMANCE-PROTO::STATUS-CODE :INITFORM 0 :TYPE
            (UNSIGNED-BYTE 32))
           (HEADERS :INITARG :HEADERS :ACCESSOR CONFORMANCE-PROTO::HEADERS
            :INITFORM NIL :TYPE LIST)
           (UNARY :INITARG :UNARY :ACCESSOR CONFORMANCE-PROTO::UNARY :INITFORM
            NIL :TYPE T)
           (PROTO-STREAM :INITARG :STREAM :ACCESSOR
            CONFORMANCE-PROTO::PROTO-STREAM :INITFORM NIL :TYPE T)
           (TRAILERS :INITARG :TRAILERS :ACCESSOR CONFORMANCE-PROTO::TRAILERS
            :INITFORM NIL :TYPE LIST)
           (CONFORMANCE-PROTO::BODY-CASE :INITFORM NIL :ACCESSOR
            CONFORMANCE-PROTO::BODY-CASE :DOCUMENTATION
            "Which body variant is set (field name keyword or nil)"))
          (:DOCUMENTATION "Proto message: RawHTTPResponse"))


(DEFMETHOD AG-PROTO:SERIALIZE-TO-BYTES
           ((AG-PROTO::OBJ CONFORMANCE-PROTO::RAW-HTTP-RESPONSE))
  (LET ((AG-PROTO::BUFFER
         (MAKE-ARRAY 64 :ELEMENT-TYPE '(UNSIGNED-BYTE 8) :FILL-POINTER 0
                     :ADJUSTABLE T)))
    (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'STATUS-CODE)))
      (WHEN (AND AG-PROTO::VALUE (NOT (EQL AG-PROTO::VALUE 0)))
        (AG-PROTO::WRITE-FIELD-TAG 1 0 AG-PROTO::BUFFER)
        (AG-PROTO::WRITE-VARINT AG-PROTO::VALUE AG-PROTO::BUFFER)))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'HEADERS))
      (AG-PROTO::WRITE-FIELD-TAG 2 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :UNARY)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'UNARY)))
        (WHEN AG-PROTO::VALUE
          (AG-PROTO::WRITE-FIELD-TAG 3 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    (WHEN (EQ (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :STREAM)
      (LET ((AG-PROTO::VALUE (SLOT-VALUE AG-PROTO::OBJ 'PROTO-STREAM)))
        (WHEN AG-PROTO::VALUE
          (AG-PROTO::WRITE-FIELD-TAG 4 2 AG-PROTO::BUFFER)
          (AG-PROTO::WRITE-LENGTH-DELIMITED
           (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::VALUE) AG-PROTO::BUFFER))))
    (DOLIST (AG-PROTO::ELEM (SLOT-VALUE AG-PROTO::OBJ 'TRAILERS))
      (AG-PROTO::WRITE-FIELD-TAG 5 2 AG-PROTO::BUFFER)
      (AG-PROTO::WRITE-LENGTH-DELIMITED
       (AG-PROTO:SERIALIZE-TO-BYTES AG-PROTO::ELEM) AG-PROTO::BUFFER))
    AG-PROTO::BUFFER))


(DEFMETHOD AG-PROTO:DESERIALIZE-FROM-BYTES
           ((TYPE (EQL 'CONFORMANCE-PROTO::RAW-HTTP-RESPONSE)) AG-PROTO::DATA)
  (LET ((AG-PROTO::OBJ (MAKE-INSTANCE 'CONFORMANCE-PROTO::RAW-HTTP-RESPONSE))
        (AG-PROTO::BUFFER (CONS AG-PROTO::DATA 0)))
    (LOOP AG-PROTO::WHILE (< (CDR AG-PROTO::BUFFER) (LENGTH AG-PROTO::DATA))
          DO (LET* ((AG-PROTO::TAG (AG-PROTO::READ-VARINT AG-PROTO::BUFFER))
                    (AG-PROTO::FIELD-NUMBER (ASH AG-PROTO::TAG -3))
                    (AG-PROTO::WIRE-TYPE (LOGAND AG-PROTO::TAG 7)))
               (CASE AG-PROTO::FIELD-NUMBER
                 (1
                  (SETF (SLOT-VALUE AG-PROTO::OBJ 'STATUS-CODE)
                          (AG-PROTO::READ-VARINT AG-PROTO::BUFFER)))
                 (2
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'HEADERS)))
                 (3
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-STREAM) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'UNARY)
                           (LET ((AG-PROTO::DATA
                                  (AG-PROTO::READ-LENGTH-DELIMITED
                                   AG-PROTO::BUFFER)))
                             (AG-PROTO:DESERIALIZE-FROM-BYTES 'MESSAGE-CONTENTS
                                                              AG-PROTO::DATA)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :UNARY)))
                 (4
                  (PROGN
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'UNARY) NIL)
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'PROTO-STREAM)
                           (LET ((AG-PROTO::DATA
                                  (AG-PROTO::READ-LENGTH-DELIMITED
                                   AG-PROTO::BUFFER)))
                             (AG-PROTO:DESERIALIZE-FROM-BYTES 'STREAM-CONTENTS
                                                              AG-PROTO::DATA)))
                   (SETF (SLOT-VALUE AG-PROTO::OBJ 'BODY-CASE) :STREAM)))
                 (5
                  (PUSH
                   (LET ((AG-PROTO::DATA
                          (AG-PROTO::READ-LENGTH-DELIMITED AG-PROTO::BUFFER)))
                     (AG-PROTO:DESERIALIZE-FROM-BYTES 'HEADER AG-PROTO::DATA))
                   (SLOT-VALUE AG-PROTO::OBJ 'TRAILERS)))
                 (OTHERWISE
                  (AG-PROTO::SKIP-FIELD AG-PROTO::BUFFER
                                        AG-PROTO::WIRE-TYPE)))))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'HEADERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'HEADERS)))
    (SETF (SLOT-VALUE AG-PROTO::OBJ 'TRAILERS)
            (NREVERSE (SLOT-VALUE AG-PROTO::OBJ 'TRAILERS)))
    AG-PROTO::OBJ))


(DEFCLASS CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB NIL
          ((AG-PROTO::CHANNEL :INITARG :CHANNEL :ACCESSOR AG-PROTO:STUB-CHANNEL
            :DOCUMENTATION "gRPC channel for this stub"))
          (:DOCUMENTATION "Client stub for ConformanceService service"))


(DEFUN CONFORMANCE-PROTO::MAKE-CONFORMANCE-SERVICE-STUB (AG-PROTO::CHANNEL)
  "Create a new ConformanceService client stub"
  (MAKE-INSTANCE 'CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB :CHANNEL
                 AG-PROTO::CHANNEL))


(DEFMETHOD CONFORMANCE-PROTO::CONFORMANCE-SERVICE-UNARY
           ((AG-PROTO::STUB CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB)
            AG-PROTO::REQUEST
            &KEY AG-PROTO::METADATA AG-PROTO::TIMEOUT)
  "Call ConformanceService.Unary unary RPC"
  (LET* ((AG-PROTO::GRPC-PKG (FIND-PACKAGE :AG-GRPC))
         (AG-PROTO::CALL-FN
          (AND AG-PROTO::GRPC-PKG
               (SYMBOL-FUNCTION
                (FIND-SYMBOL "CALL-UNARY" AG-PROTO::GRPC-PKG))))
         (AG-PROTO::RESPONSE-FN
          (AND AG-PROTO::GRPC-PKG
               (FDEFINITION (FIND-SYMBOL "CALL-RESPONSE" AG-PROTO::GRPC-PKG))))
         (AG-PROTO::STATUS-FN
          (AND AG-PROTO::GRPC-PKG
               (FDEFINITION (FIND-SYMBOL "CALL-STATUS" AG-PROTO::GRPC-PKG)))))
    (UNLESS AG-PROTO::CALL-FN
      (ERROR
       "ag-grpc package not loaded. Load ag-grpc before calling RPC methods."))
    (LET ((AG-PROTO::CALL
           (FUNCALL AG-PROTO::CALL-FN (AG-PROTO:STUB-CHANNEL AG-PROTO::STUB)
                    "/connectrpc.conformance.v1.ConformanceService/Unary"
                    AG-PROTO::REQUEST :RESPONSE-TYPE
                    'CONFORMANCE-PROTO::UNARYRESPONSE :METADATA
                    AG-PROTO::METADATA :TIMEOUT AG-PROTO::TIMEOUT)))
      (VALUES (FUNCALL AG-PROTO::RESPONSE-FN AG-PROTO::CALL)
              (FUNCALL AG-PROTO::STATUS-FN AG-PROTO::CALL) AG-PROTO::CALL))))


(DEFMETHOD CONFORMANCE-PROTO::CONFORMANCE-SERVICE-SERVER-STREAM
           ((AG-PROTO::STUB CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB)
            AG-PROTO::REQUEST
            &KEY AG-PROTO::METADATA AG-PROTO::TIMEOUT)
  "Call ConformanceService.ServerStream server streaming RPC.
Returns a grpc-server-stream. Use stream-read-message or do-stream-messages to consume."
  (LET* ((AG-PROTO::GRPC-PKG (FIND-PACKAGE :AG-GRPC))
         (AG-PROTO::CALL-FN
          (AND AG-PROTO::GRPC-PKG
               (SYMBOL-FUNCTION
                (FIND-SYMBOL "CALL-SERVER-STREAMING" AG-PROTO::GRPC-PKG)))))
    (UNLESS AG-PROTO::CALL-FN
      (ERROR
       "ag-grpc package not loaded. Load ag-grpc before calling RPC methods."))
    (FUNCALL AG-PROTO::CALL-FN (AG-PROTO:STUB-CHANNEL AG-PROTO::STUB)
             "/connectrpc.conformance.v1.ConformanceService/ServerStream"
             AG-PROTO::REQUEST :RESPONSE-TYPE
             'CONFORMANCE-PROTO::SERVERSTREAMRESPONSE :METADATA
             AG-PROTO::METADATA :TIMEOUT AG-PROTO::TIMEOUT)))


(DEFMETHOD CONFORMANCE-PROTO::CONFORMANCE-SERVICE-CLIENT-STREAM
           ((AG-PROTO::STUB CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB)
            &KEY AG-PROTO::METADATA AG-PROTO::TIMEOUT)
  "Initiate ConformanceService.ClientStream client streaming RPC.
Returns a grpc-client-stream. Use stream-send to send messages,
then stream-close-and-recv to get the response."
  (LET* ((AG-PROTO::GRPC-PKG (FIND-PACKAGE :AG-GRPC))
         (AG-PROTO::CALL-FN
          (AND AG-PROTO::GRPC-PKG
               (SYMBOL-FUNCTION
                (FIND-SYMBOL "CALL-CLIENT-STREAMING" AG-PROTO::GRPC-PKG)))))
    (UNLESS AG-PROTO::CALL-FN
      (ERROR
       "ag-grpc package not loaded. Load ag-grpc before calling RPC methods."))
    (FUNCALL AG-PROTO::CALL-FN (AG-PROTO:STUB-CHANNEL AG-PROTO::STUB)
             "/connectrpc.conformance.v1.ConformanceService/ClientStream"
             :RESPONSE-TYPE 'CONFORMANCE-PROTO::CLIENTSTREAMRESPONSE :METADATA
             AG-PROTO::METADATA :TIMEOUT AG-PROTO::TIMEOUT)))


(DEFMETHOD CONFORMANCE-PROTO::CONFORMANCE-SERVICE-BIDI-STREAM
           ((AG-PROTO::STUB CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB)
            &KEY AG-PROTO::METADATA AG-PROTO::TIMEOUT)
  "Initiate ConformanceService.BidiStream bidirectional streaming RPC.
Returns a grpc-bidi-stream. Use stream-send to send messages,
stream-read-message to receive messages, and stream-close-send when done sending."
  (LET* ((AG-PROTO::GRPC-PKG (FIND-PACKAGE :AG-GRPC))
         (AG-PROTO::CALL-FN
          (AND AG-PROTO::GRPC-PKG
               (SYMBOL-FUNCTION
                (FIND-SYMBOL "CALL-BIDIRECTIONAL-STREAMING"
                             AG-PROTO::GRPC-PKG)))))
    (UNLESS AG-PROTO::CALL-FN
      (ERROR
       "ag-grpc package not loaded. Load ag-grpc before calling RPC methods."))
    (FUNCALL AG-PROTO::CALL-FN (AG-PROTO:STUB-CHANNEL AG-PROTO::STUB)
             "/connectrpc.conformance.v1.ConformanceService/BidiStream"
             :RESPONSE-TYPE 'CONFORMANCE-PROTO::BIDISTREAMRESPONSE :METADATA
             AG-PROTO::METADATA :TIMEOUT AG-PROTO::TIMEOUT)))


(DEFMETHOD CONFORMANCE-PROTO::CONFORMANCE-SERVICE-UNIMPLEMENTED
           ((AG-PROTO::STUB CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB)
            AG-PROTO::REQUEST
            &KEY AG-PROTO::METADATA AG-PROTO::TIMEOUT)
  "Call ConformanceService.Unimplemented unary RPC"
  (LET* ((AG-PROTO::GRPC-PKG (FIND-PACKAGE :AG-GRPC))
         (AG-PROTO::CALL-FN
          (AND AG-PROTO::GRPC-PKG
               (SYMBOL-FUNCTION
                (FIND-SYMBOL "CALL-UNARY" AG-PROTO::GRPC-PKG))))
         (AG-PROTO::RESPONSE-FN
          (AND AG-PROTO::GRPC-PKG
               (FDEFINITION (FIND-SYMBOL "CALL-RESPONSE" AG-PROTO::GRPC-PKG))))
         (AG-PROTO::STATUS-FN
          (AND AG-PROTO::GRPC-PKG
               (FDEFINITION (FIND-SYMBOL "CALL-STATUS" AG-PROTO::GRPC-PKG)))))
    (UNLESS AG-PROTO::CALL-FN
      (ERROR
       "ag-grpc package not loaded. Load ag-grpc before calling RPC methods."))
    (LET ((AG-PROTO::CALL
           (FUNCALL AG-PROTO::CALL-FN (AG-PROTO:STUB-CHANNEL AG-PROTO::STUB)
                    "/connectrpc.conformance.v1.ConformanceService/Unimplemented"
                    AG-PROTO::REQUEST :RESPONSE-TYPE
                    'CONFORMANCE-PROTO::UNIMPLEMENTEDRESPONSE :METADATA
                    AG-PROTO::METADATA :TIMEOUT AG-PROTO::TIMEOUT)))
      (VALUES (FUNCALL AG-PROTO::RESPONSE-FN AG-PROTO::CALL)
              (FUNCALL AG-PROTO::STATUS-FN AG-PROTO::CALL) AG-PROTO::CALL))))


(DEFMETHOD CONFORMANCE-PROTO::CONFORMANCE-SERVICE-IDEMPOTENT-UNARY
           ((AG-PROTO::STUB CONFORMANCE-PROTO::CONFORMANCE-SERVICE-STUB)
            AG-PROTO::REQUEST
            &KEY AG-PROTO::METADATA AG-PROTO::TIMEOUT)
  "Call ConformanceService.IdempotentUnary unary RPC"
  (LET* ((AG-PROTO::GRPC-PKG (FIND-PACKAGE :AG-GRPC))
         (AG-PROTO::CALL-FN
          (AND AG-PROTO::GRPC-PKG
               (SYMBOL-FUNCTION
                (FIND-SYMBOL "CALL-UNARY" AG-PROTO::GRPC-PKG))))
         (AG-PROTO::RESPONSE-FN
          (AND AG-PROTO::GRPC-PKG
               (FDEFINITION (FIND-SYMBOL "CALL-RESPONSE" AG-PROTO::GRPC-PKG))))
         (AG-PROTO::STATUS-FN
          (AND AG-PROTO::GRPC-PKG
               (FDEFINITION (FIND-SYMBOL "CALL-STATUS" AG-PROTO::GRPC-PKG)))))
    (UNLESS AG-PROTO::CALL-FN
      (ERROR
       "ag-grpc package not loaded. Load ag-grpc before calling RPC methods."))
    (LET ((AG-PROTO::CALL
           (FUNCALL AG-PROTO::CALL-FN (AG-PROTO:STUB-CHANNEL AG-PROTO::STUB)
                    "/connectrpc.conformance.v1.ConformanceService/IdempotentUnary"
                    AG-PROTO::REQUEST :RESPONSE-TYPE
                    'CONFORMANCE-PROTO::IDEMPOTENTUNARYRESPONSE :METADATA
                    AG-PROTO::METADATA :TIMEOUT AG-PROTO::TIMEOUT)))
      (VALUES (FUNCALL AG-PROTO::RESPONSE-FN AG-PROTO::CALL)
              (FUNCALL AG-PROTO::STATUS-FN AG-PROTO::CALL) AG-PROTO::CALL))))

